<!DOCTYPE html>
<html>
<head>
    <title>Проверка сайтов Mystand</title>
    <script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <style>

        h1 {
            text-align: center;
            font-family: "Helvetic Neue", Helvetica, Arial;
        }
        li {
            list-style: none;
            color: grey;
        }

        li a {
            float: right;
            text-decoration: none;
            color: grey;
        }

        li a:hover {
            color: black;
            text-decoration: underline;
        }

        li.status-maybe-error {
            color: red;
        }

        li.status-maybe-error a {
            color: black;
            font-weight: bold;
        }

        li.status-maybe-error.status-200 {
            color: green;
        }

        li.status-maybe-error.status-200 a {
            color: grey;
            font-weight: normal;
        }

    </style>

    <script>
        // Generated by CoffeeScript 1.7.1
        (function() {
            var Guard, config,
                    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

            config = {
                sites: [
                    {
                        name: "Mystand.ru",
                        url: "http://mystand.ru/"
                    },
                    {
                        name: "Инвестиционная карта Хабаровского края",
                        url: "http://investmap.khabkrai.ru/"
                    }, {
                        name: "Инвестиционная карта Ставропольского края",
                        url: "http://map.stavinvest.ru/"
                    }, {
                        name: "Инвестиционная карта Сахалинской области",
                        url: "http://sakhalin.mystand.ruw/"
                    }, {
                        name: "Инвестиционная карта Липецкой области",
                        url: "http://map.invest-lipetsk.com/"
                    }, {
                        name: "Приложение для iOS инвестиционная карта Владимирской области",
                        url: "https://itunes.apple.com/tc/app/investicionnaa-karta-vladimirskoj/id632488737?mt=8"
                    }, {
                        name: "Инвестиционная карта Свердловской области",
                        url: "http://investmap.midural.ru/"
                    }, {
                        name: "Инвестиционная карта Владимирской области",
                        url: "http://map.investvladimir.ru/"
                    }, {
                        name: "Инвестиционная карта Республики Башкортостан",
                        url: "http://map.bashkortostan.ru/"
                    }, {
                        name: "Инвестиционная карта Омской области",
                        url: "http://map.arvd.ru/"
                    }, {
                        name: "Инвестиционная карта Смоленской области",
                        url: "http://smolensk2.mystand.ru/"
                    }, {
                        name: "Инвестиционная карта Камчатского края",
                        url: "http://investmap.kamgov.ru/"
                    }, {
                        name: "Инвестиционная карта Псковской области",
                        url: "http://investmap.pskov.ru/"
                    }, {
                        name: "Инвестиционный портал Свердловской области",
                        url: "http://invest.midural.ru/"
                    }, {
                        name: "Портал информационно-туристической службы Екатеринбурга",
                        url: "http://its.ekburg.ru/"
                    }, {
                        name: "Туристический портал Хабаровского края",
                        url: "http://khabarovsk-tourism.mystand.ru/"
                    }, {
                        name: "Инвестиционный портал Владимирской области",
                        url: "http://investvladimir.ru/"
                    }, {
                        name: "Инвестиционный портал Республики Башкортостан",
                        url: "http://invest.bashkortostan.ru/"
                    }, {
                        name: "Инвестиционный портал Липецкой области",
                        url: "http://invest-lipetsk.com/"
                    }, {
                        name: "Инвестиционный портал Кемеровской области",
                        url: "http://kemerovo-invest-portal2.mystand.ru/"
                    }, {
                        name: "Приложение для iOS инвестиционная карта Магаданской области",
                        url: "https://itunes.apple.com/tc/app/magadan-invest/id765500283?mt=8"
                    }, {
                        name: "Приложение для iOS инвестиционная карта Сахалинской области",
                        url: "https://itunes.apple.com/tc/app/sakhalin-invest/id808748321?mt=8"
                    }, {
                        name: "Навигация по Expoarms 2012",
                        url: "http://expoarms.mystand.ru/"
                    }, {
                        name: "Виртуальная выставка поставщиков атомной отрасли АТОМЕКС-2012",
                        url: "http://atomeks-client.mystand.ru/"
                    }, {
                        name: "Инвестиционная карта Магаданской области",
                        url: "http://magadan.mystand.ru/"
                    }, {
                        name: "Туристический путеводитель по Свердловской области",
                        url: "https://itunes.apple.com/tc/app/go-to-ural/id765387129?mt=8"
                    }, {
                        name: "Навигация по международному форуму Большая Химия",
                        url: "http://great-chemistry.mystand.ru"
                    }, {
                        name: "Приложение для iOS инвестиционная карта Камчатского края",
                        url: "https://itunes.apple.com/tc/app/kamchatka-invest/id849648881?mt=8"
                    }, {
                        name: "Приложение для iOS инвестиционная карта Республики Башкортостан",
                        url: "https://itunes.apple.com/tc/app/investicionnaa-karta-respubliki/id645484053?mt=8"
                    }, {
                        name: "Приложение для Android инвестиционная карта Магаданской области",
                        url: "https://play.google.com/store/apps/details?id=com.telerik.magadanclient"
                    }, {
                        name: "Приложение для Android инвестиционная карта Владимирской области",
                        url: "https://play.google.com/store/apps/details?id=com.telerik.vladimirClient"
                    }, {
                        name: "Туристический портал Свердловской области",
                        url: "http://gotoural.com/"
                    }, {
                        name: "Инвестиционный портал Ставропольского края",
                        url: "http://portal.stavinvest.ru/"
                    }, {
                        name: "Реестр мер поддержки предпринимательства Свердловской области",
                        url: "http://reestr2.investural.com/"
                    }, {
                        name: "Система доступная среда РСО-Алании",
                        url: "http://dostupno15.ru/"
                    }
                ]
            };

            Guard = (function() {
                function Guard(el) {
                    this.renderResult = __bind(this.renderResult, this);
                    var code, count, link, name, site, _i, _len, _ref;
                    this.el = el;
                    count = 0;
                    _ref = config.sites;
                    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
                        site = _ref[_i];
                        count += 1;
                        site.index = count;
                        name = $("<div class='name'>").html(site.name);
                        code = $("<div class='code'>");
                        link = $("<a href=" + site.url + ">").html("Ссылка");
                        el = $("<li data-index=\"" + count + "\">").append(link).append(name).append(code);
                        el.appendTo(this.el);
                        $.ajax({
                            cache: false,
                            data: site,
                            url: "check",
                            type: "GET",
                            success: this.renderResult
                        });
                    }
                }

                Guard.prototype.renderResult = function(obj) {
                    var el, status;
                    el = $("li[data-index=" + obj.index + "]", this.el);
                    el.addClass("status-maybe-error status-" + obj.statusCode)
                    return
                };

                return Guard;

            })();

            $(function() {
                return new Guard($(".container"));
            });

        }).call(this);
    </script>

</head>
<body>
    <h1>Проверка сайтов Mystand</h1>
    <ul class="container"></ul>
</body>
</html>